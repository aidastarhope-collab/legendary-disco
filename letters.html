<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<title>ğŸ“œ Briefe fÃ¼r dich</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
:root{
  --primary:#fff; --bg:#05353d;
  --env-bg:#f5edd1; --env-tab:#ecdeb8; --env-cover:#e6cfa7;
  --shadow:rgba(0,0,0,.2); --text:#444; --heart:#fc08e7;
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:#fff;font-family:system-ui,Segoe UI,Roboto,Inter,sans-serif;text-align:center}
h1{margin:24px 12px;font-size:clamp(22px,4vw,36px)}
.letters{display:flex;flex-wrap:wrap;gap:32px;justify-content:center;max-width:1040px;margin:36px auto 28px;padding:0 16px}

/* Umschlag fix: 300Ã—230 */
.envelope-wrapper{
  width:300px;height:230px;background:var(--env-bg);
  border-radius:12px;padding:10px;box-shadow:0 0 20px var(--shadow);
  position:relative;cursor:pointer;transition:opacity .25s ease,transform .2s ease;
}
.envelope-wrapper.disabled{opacity:.4;pointer-events:none;filter:saturate(.3)}

/* Der eigentliche Umschlag */
.envelope{
  position:relative;width:100%;height:100%;
  overflow:hidden;               /* Brief bleibt versteckt bis open */
  perspective:900px;             /* stabilisiert den Klapp-Flip */
}

/* Klappe (oben) â€“ keine VerzÃ¶gerung -> startet zuerst */
.envelope::before{
  content:"";position:absolute;top:0;left:50%;transform:translateX(-50%);
  z-index:3;
  border-top:130px solid var(--env-tab);
  border-right:150px solid transparent;
  border-left:150px solid transparent;
  transform-origin:50% 0;        /* oben-mittig */
  transition:transform .55s ease-in-out 0s; /* sofort */
  will-change:transform;
}
/* KÃ¶rper */
.envelope::after{
  content:"";position:absolute;left:50%;top:0;transform:translateX(-50%);
  z-index:2;width:0;height:0;
  border-top:130px solid transparent;
  border-right:150px solid var(--env-cover);
  border-bottom:100px solid var(--env-cover);
  border-left:150px solid var(--env-cover);
}

/* Brief â€“ startet im Umschlag */
.letter{
  position:absolute;right:23%;bottom:-10px;width:54%;height:80%;
  background:var(--primary);color:var(--text);
  border-radius:6px;padding:12px;box-shadow:0 0 5px var(--shadow);
  z-index:1;transition:bottom .65s ease-out .7s, transform .65s ease-out .7s; /* startet zuletzt */
  display:flex;align-items:flex-start;justify-content:flex-start;overflow:hidden;
}
.letter .text{font-size:12px;line-height:1.35;text-align:left}

/* Herz â€“ korrekt geformt und leicht verzÃ¶gert nach Klappe */
.heart{
  position:absolute;top:50%;left:50%;
  width:20px;height:20px;background:var(--heart);
  transform:translate(-50%,-35%) rotate(45deg);
  transition:transform .4s ease-in-out .2s; /* nach Klappe */
  box-shadow:0 1px 6px var(--shadow);z-index:4;pointer-events:none;
}
.heart:before,.heart:after{
  content:"";position:absolute;width:20px;height:20px;background:var(--heart);border-radius:50%;
}
.heart:before{top:-10px;left:0}  /* obere Rundung */
.heart:after{left:-10px;top:0}   /* linke Rundung */

/* Ã–ffnen â€“ Reihenfolge fixiert */
.envelope-wrapper.flap .envelope{overflow:visible} /* Brief darf raus */
.envelope-wrapper.flap .envelope::before{transform:rotateX(180deg);z-index:0}
.envelope-wrapper.flap .heart{transform:rotate(90deg) translate(0,0);transition-delay:.35s}
.envelope-wrapper.flap .letter{bottom:92px;transform:scale(1.05)}  /* startet durch die oben gesetzte .7s VerzÃ¶gerung */


  .back{display:inline-block;margin:6px auto 32px;padding:10px 18px;background:#0a5c6d;color:#fff;
        border-radius:10px;text-decoration:none;font-weight:600}
  .back:hover{background:#0d768b}
</style>
</head>
<body>
  <h1>ğŸ“œ Briefe fÃ¼r dich</h1>

  <div class="letters" id="letters">
    <!-- 1 -->
    <div class="envelope-wrapper">
      <div class="envelope">
        <div class="letter"><div class="text">ğŸ’œ Du bist der Beste!</div></div>
        <div class="heart" aria-hidden="true"></div>
      </div>
    </div>
    <!-- 2 -->
    <div class="envelope-wrapper">
      <div class="envelope">
        <div class="letter"><div class="text">âœ¨ Danke fÃ¼r alles, was du tust!</div></div>
        <div class="heart" aria-hidden="true"></div>
      </div>
    </div>
    <!-- 3 -->
    <div class="envelope-wrapper">
      <div class="envelope">
        <div class="letter"><div class="text">ğŸŒ™ Ohne dich wÃ¤re alles halb so schÃ¶n.</div></div>
        <div class="heart" aria-hidden="true"></div>
      </div>
    </div>
    <!-- 4 -->
    <div class="envelope-wrapper">
      <div class="envelope">
        <div class="letter"><div class="text">â­ Du machst jeden Tag besser!</div></div>
        <div class="heart" aria-hidden="true"></div>
      </div>
    </div>
    <!-- 5 -->
    <div class="envelope-wrapper">
      <div class="envelope">
        <div class="letter"><div class="text">ğŸ«¶ Ich bin froh, dass es dich gibt!</div></div>
        <div class="heart" aria-hidden="true"></div>
      </div>
    </div>
  </div>

  <a href="index.html" class="back">â¬… ZurÃ¼ck</a>

  <script>
    // Score aus dem Banana-Game (Session-Scoped)
    const score = parseInt(sessionStorage.getItem("bananaScore") || "0");

    const wraps = document.querySelectorAll(".envelope-wrapper");
    wraps.forEach((wrap, i) => {
      if (i < score) {
        wrap.addEventListener("click", () => wrap.classList.toggle("flap"));
      } else {
        wrap.classList.add("disabled");
      }
    });
  </script>
</body>
</html>

